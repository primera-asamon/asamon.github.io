<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>リネージュ ステータス再振りシミュレータ</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-168678456-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-168678456-1');
    </script>
    <!-- /Global site tag (gtag.js) - Google Analytics -->
    <!-- Other Analytics -->
    <script data-ad-client="ca-pub-2021367532919769" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2021367532919769" crossorigin="anonymous"></script>
    <!-- /Other Analytics -->
    <!-- Google Search Console -->
    <meta name="google-site-verification" content="xbnU_Dms4lFSEe17mjdu2JXqJ0HpqcrMHzHtW7soNFg" />
    <!-- /Google Search Console -->
    <!-- Google Auto AdSense -->
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "",
          enable_page_level_ads: true
        });
    </script>
    <!-- End Google Auto AdSense -->
<style>
body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    margin: 0;
    padding: 20px;
}

h1 {
    color: #333;
}

table {
    width: auto;
    border-collapse: collapse;
    margin-bottom: 20px;
    background-color: #FFFFE0;
    border: 1px solid #ccc;
}
th {
    width: 90px;
    background-color: #f2f0b0;
    padding: 6px;
    border: 1px solid #ccc;
    text-align: center;
    font-size: small;
    font-weight: normal;
}
.hako {
    width: 120px;
}
.notex {
    width: 400px;
}
.point_title {
    width: 200px;
}
tr{
    text-align: center;
    width:auto;
    max-width:600px;
}
td {
    padding: 6px;
    border: 1px solid #ccc;
    background-color: #fff;
    width:90px;
    font-weight: normal;
}

td:first-child {
    background-color: #f9f9f9;
    font-weight: bold;
}
</style>
</head>
<body>
    <h1>リネージュ ステータス再振りシミュレータ</h1>
    <table>
    <tr><td>クラス</td><td><select id="tribe">
        <option value="PRI">君主</option>
        <option value="KNI">ナイト</option>
        <option value="ELF">エルフ</option>
        <option value="WIZ">ウィザード</option>
        <option value="DE">ダークエルフ</option>
        <option value="DRK">ドラゴンナイト</option>
        <option value="ILL">イリュージョニスト</option>
        <option value="WAR">ウォリアー</option>
        <option value="FEN">フェンサー</option>
        <option value="LAN">ランサー</option>
        <option value="PAL">聖騎士</option>
    </select></td></tr>
    <tr><td>Lv</td><td><input type="number" min="1" max="110" step="1" value="1" id="Lv" size="6"></td></tr>
    <tr><td>エリクサー</td><td><input type="number" min="0" max="100" step="1" value="0" id="Elixir" size="6" placeholder="数字を入力"></td></tr>
    </table>
    <hr>
    <table>
    <tr><th class="point_title">リマイニングポイント</th><td><span id="remaining_point"></span></td></tr>
    <tr><th class="point_title">割り振れるポイント数</th><td><span id="allocated_point"></span></td></tr>
    </table>
    <table>
    <tr><th></th><th>基本ステ</th><th class="hako">割り振るステ</th><th>最終ステ</th><th class="hako">装備エンチャ<br>追加ステ</th><th class="notex">備考</th></tr>
    <tr><th>STR</th><td><span id="base_str"></span></td><td>+<input type="number" min="0" max="100" step="1" value="0" id="alloc_str" size="6">=</td><td><span id="final_str"></span></td><td>+<input type="number" min="0" max="100" step="1" value="0" id="addition_str" size="6"></td><td><span id="remarks_str"></span></td></tr>
    <tr><th>DEX</th><td><span id="base_dex"></span></td><td>+<input type="number" min="0" max="100" step="1" value="0" id="alloc_dex" size="6">=</td><td><span id="final_dex"></span></td><td>+<input type="number" min="0" max="100" step="1" value="0" id="addition_dex" size="6"></td><td><span id="remarks_dex"></span></td></tr>
    <tr><th>INT</th><td><span id="base_int"></span></td><td>+<input type="number" min="0" max="100" step="1" value="0" id="alloc_int" size="6">=</td><td><span id="final_int"></span></td><td>+<input type="number" min="0" max="100" step="1" value="0" id="addition_int" size="6"></td><td><span id="remarks_int"></span></td></tr>
    <tr><th>WIS</th><td><span id="base_wis"></span></td><td>+<input type="number" min="0" max="100" step="1" value="0" id="alloc_wis" size="6">=</td><td><span id="final_wis"></span></td><td>+<input type="number" min="0" max="100" step="1" value="0" id="addition_wis" size="6"></td><td><span id="remarks_wis"></span></td></tr>
    <tr><th>CON</th><td><span id="base_con"></span></td><td>+<input type="number" min="0" max="100" step="1" value="0" id="alloc_con" size="6">=</td><td><span id="final_con"></span></td><td>+<input type="number" min="0" max="100" step="1" value="0" id="addition_con" size="6"></td><td><span id="remarks_con"></span></td></tr>
    <tr><th>CHA</th><td><span id="base_cha"></span></td><td>+<input type="number" min="0" max="100" step="1" value="0" id="alloc_cha" size="6">=</td><td><span id="final_cha"></span></td><td>+<input type="number" min="0" max="100" step="1" value="0" id="addition_cha" size="6"></td><td><span id="remarks_cha"></span></td></tr>
    <tr><th></th><td>残り⇒</td><td><span id="remaining"></span></td><td></td><td></td><td><span id="remarks_remaining"></span></td></tr>
    </table>
    <table>
    <tr>
      <th>近距離<br>ダメージ</th><td><span id="close_range_damage"></span></td>
      <th>遠距離<br>ダメージ</th><td><span id="long_range_damage"></span></td>
      <th>魔法<br>ダメージ</th><td><span id="magic_damage"></span></td>
      <th>MPR</th><td><span id="mpr"></span></td>
      <th>HPR</th><td><span id="hpr"></span></td>
      <th>全スキル<br>命中上昇</th><td><span id="cha_hit"></span></td>
    </tr>
    <tr>
      <th>近距離<br>命中</th><td><span id="close_range_hit"></span></td>
      <th>遠距離<br>命中</th><td><span id="long_range_hit"></span></td>
      <th>魔法命中</th><td><span id="magic_hit"></span></td>
      <th>MP POT<br>回復</th><td><span id="mp_pot"></span></td>
      <th>HP POT<br>回復</th><td><span id="hp_pot"></span>%</td>
      <th>スキル再使用<br>時間減少</th><td><span id="cha_reuse_time_decrease"></span>
    </td>
    </tr>
    <tr>
      <th>近クリ率</th><td><span id="close_range_critical"></span>%</td>
      <th>遠クリ率</th><td><span id="long_range_critical"></span>%</td>
      <th>魔クリ率</th><td><span id="magic_critical"></span>%</td>
      <th>MR</th><td><span id="mr"></span></td>
      <th>状態異常<br>時間減少</th><td><span id="cha_abnormal_status_time_decrease"></span></td>
      <th></th><td></td>
    </tr>
    <tr>
      <th>最大<br>所持重量</th><td><span id="maximum_carrying_weight"></span></td>
      <th>物理防御力(AC)</th><td><span id="ac"></span></td>
      <th>魔法ボーナス(MB)</th><td><span id="mb"></span></td>
      <th></th><td></td>
      <th></th><td></td>
      <th></th><td></td>
    </tr>
    <tr>
      <th></th><td></td>
      <th>遠距離<br>回避力(ER)</th><td><span id="er"></span></td>
      <th>MP消耗減少</th><td><span id="magic_consumption_decrease"></span>%</td>
      <th></th><td></td>
      <th></th><td></td>
      <th></th><td></td>
    </tr>
    </table>
    <script>
        $(document).ready(function() {
            $('#tribe, #Lv, #Elixir, #alloc_str, #alloc_dex, #alloc_int, #alloc_wis, #alloc_con, #alloc_cha, #addition_str, #addition_dex, #addition_int, #addition_wis, #addition_con, #addition_cha').on('change', function() {
                let tribe = $('#tribe').val();
                let Lv = $('#Lv').val();
                let Elixir = $('#Elixir').val();
                let alloc_str = $('#alloc_str').val();
                let alloc_dex = $('#alloc_dex').val();
                let alloc_int = $('#alloc_int').val();
                let alloc_wis = $('#alloc_wis').val();
                let alloc_con = $('#alloc_con').val();
                let alloc_cha = $('#alloc_cha').val();
                let addition_str = $('#addition_str').val();
                let addition_dex = $('#addition_dex').val();
                let addition_int = $('#addition_int').val();
                let addition_wis = $('#addition_wis').val();
                let addition_con = $('#addition_con').val();
                let addition_cha = $('#addition_cha').val();
                $.ajax({
                    url: './cgi-bin/status_change.py',
                    type: 'POST',
                    data: JSON.stringify({tribe: tribe, Lv: Lv, Elixir: Elixir, alloc_str: alloc_str, alloc_dex: alloc_dex, alloc_int: alloc_int, alloc_wis: alloc_wis, alloc_con: alloc_con, alloc_cha: alloc_cha, addition_str: addition_str, addition_dex: addition_dex, addition_int: addition_int, addition_wis: addition_wis, addition_con: addition_con, addition_cha: addition_cha}),
                    contentType: 'application/json',
                    success: function(response) {
                        $('#base_str').text(response.base_str);
                        $('#base_dex').text(response.base_dex);
                        $('#base_int').text(response.base_int);
                        $('#base_wis').text(response.base_wis);
                        $('#base_con').text(response.base_con);
                        $('#base_cha').text(response.base_cha);
                        $('#remaining_point').text(response.remaining_point);
                        $('#allocated_point').text(response.allocated_point);
                        $('#final_str').text(response.final_str);
                        $('#final_dex').text(response.final_dex);
                        $('#final_int').text(response.final_int);
                        $('#final_wis').text(response.final_wis);
                        $('#final_con').text(response.final_con);
                        $('#final_cha').text(response.final_cha);
                        $('#remarks_str').text(response.remarks_str);
                        $('#remarks_dex').text(response.remarks_dex);
                        $('#remarks_int').text(response.remarks_int);
                        $('#remarks_wis').text(response.remarks_wis);
                        $('#remarks_con').text(response.remarks_con);
                        $('#remarks_cha').text(response.remarks_cha);
                        $('#remarks_remaining').text(response.remarks_remaining);
                        $('#remaining').text(response.remaining);
                        $('#close_range_damage').text(response.close_range_damage);
                        $('#close_range_hit').text(response.close_range_hit);
                        $('#close_range_critical').text(response.close_range_critical);
                        $('#maximum_carrying_weight').text(response.maximum_carrying_weight);
                        $('#long_range_damage').text(response.long_range_damage);
                        $('#long_range_hit').text(response.long_range_hit);
                        $('#long_range_critical').text(response.long_range_critical);
                        $('#ac').text(response.ac);
                        $('#er').text(response.er);
                        $('#magic_damage').text(response.magic_damage);
                        $('#magic_hit').text(response.magic_hit);
                        $('#magic_critical').text(response.magic_critical);
                        $('#mb').text(response.mb);
                        $('#magic_consumption_decrease').text(response.magic_consumption_decrease);
                        $('#mpr').text(response.mpr);
                        $('#mp_pot').text(response.mp_pot);
                        $('#mr').text(response.mr);
                        $('#hpr').text(response.hpr);
                        $('#hp_pot').text(response.hp_pot);
                        $('#cha_hit').text(response.cha_hit);
                        $('#cha_reuse_time_decrease').text(response.cha_reuse_time_decrease);
                        $('#cha_abnormal_status_time_decrease').text(response.cha_abnormal_status_time_decrease);
                    }
                });
            });
        });
    </script>
</body>
</html>
